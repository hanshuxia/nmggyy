<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>用户中心-企业基本信息</title>
   <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/${res}/resources/css/base.css"/>


    <!--[if lt IE 9]>
    <script src="http://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="http://cdn.bootcss.com/html5media/1.1.8/html5media.min.js"></script>
    <script src="http://cdn.bootcss.com/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <script src="${base}/thirdparty/My97DatePicker/WdatePicker.js" type="text/javascript"></script>
    <script type="text/javascript" charset="utf-8" src="//cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
    <script src="${resSys}/front.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="/${res}/resources/css/releasePower.css"/>
    <!--添加表单校验-->
    <script src="${base}/res/common/js/jquery.validate.js" type="text/javascript"></script>
    <script src="${base}/res/common/js/messages_zh.js" type="text/javascript"></script>
    <!--自己写校验方法-->
    <script type="text/javascript" charset="utf-8" src="/${res}/resources/js/validateCheck.js"></script>

    <script type="text/javascript">
        //表单验证
        $().ready(function() {
            $("#release_form").validate()
        });

        $(document).ready(function () {
            $(".boxs").click(function () {
                var type = "";
                $("input[name='type']:checked").each(function () {
                    type += $(this).val() + ",";
                })
                var operateType = type.substring(0, type.length - 1);
                $("input[name='operateType']").val(operateType);
            })
        })
    </script>
    <style type="text/css">
        .wrapper {
            width: 95%;
        }
    </style>
</head>
<body>
<div class="content wrapper">
    <form id="release_form" action="company_baseinfo_save.jspx" method="post">
        <div class="servicePower">
            <div class="service-content wrapper">
                <div class="inputs">
                    <label><i>*</i>&nbsp;企业号：</label>
                    <input class="power space" id="companyCode" name="companyCode" type="text"
                           value="${user.company.companyCode?default('')}" required maxlength="30" disabled="disabled">

                </div>
                <div class="inputs">
                    <label><i>*</i>&nbsp;公司名称：</label>
                    <input class="power space" id="companyName" name="companyName" type="text"
                           value="${user.company.companyName?default('')}" required maxlength="50" disabled="disabled">
                </div>
                <div class="inputs">
                    <label><i>*</i>&nbsp;企业类型：</label>
                    <select class="codeInput" id="companyType" name="companyType" required disabled="disabled">
                        [#assign companyType = user.company.companyType?default('') /]
                        <option value="国有企业" [#if companyType == '国有企业']selected[/#if]>国有企业</option>
                        <option value="集体企业" [#if companyType == '集体企业']selected[/#if]>集体企业</option>
                        <option value="股份合作企业" [#if companyType == '股份合作企业']selected[/#if]>股份合作企业</option>
                        <option value="联营企业" [#if companyType == '联营企业']selected[/#if]>联营企业</option>
                        <option value="有限责任公司" [#if companyType == '有限责任公司']selected[/#if]>有限责任公司</option>
                        <option value="股份有限公司" [#if companyType == '股份有限公司']selected[/#if]>股份有限公司</option>
                        <option value="私营企业" [#if companyType == '私营企业']selected[/#if]>私营企业</option>
                        <option value="其他企业" [#if companyType == '其他企业']selected[/#if]>其他企业</option>
                    </select>
                </div>
                <div class="inputs">
                    <label><i>*</i>&nbsp;企业规模：</label>
                    <select class="codeInput" name="companyScale" id="companyScale" required disabled="disabled">
                        [#assign companyScale = user.company.companyScale?default('') /]
                        <option value="5人以下" [#if companyScale == '5人以下']selected[/#if]>5人以下</option>
                        <option value="5-10人" [#if companyScale == '5-10人']selected[/#if]>5-10人</option>
                        <option value="11-50人"[#if companyScale == '11-50人']selected[/#if]>11-50人</option>
                        <option value="51-100人"[#if companyScale == '51-100人']selected[/#if]>51-100人</option>
                        <option value="101-200人"[#if companyScale == '101-200人']selected[/#if]>101-200人</option>
                        <option value="201-300人"[#if companyScale == '201-300人']selected[/#if]>201-300人</option>
                        <option value="301-500人"[#if companyScale == '301-500人']selected[/#if]>301-500人</option>
                        <option value="501-1000人"[#if companyScale == '501-1000人']selected[/#if]>501-1000人</option>
                        <option value="1000人及以上"[#if companyScale == '1000人及以上']selected[/#if]>1000人及以上</option>
                    </select>
                </div>
                <div class="inputs">
                    <label><i>*</i>&nbsp;服务类型：</label>
                    <select class="codeInput" name="serverType" id="serverType" required disabled="disabled">
                        [#assign serverType = user.company.serverType?default('') /]
                        <option value="尖端设备" [#if serverType == '尖端设备']selected[/#if]>尖端设备</option>
                        <option value="下料切割" [#if serverType == '下料切割']selected[/#if]>下料切割</option>
                        <option value="切削加工" [#if serverType == '切削加工']selected[/#if]>切削加工</option>
                        <option value="压力加工" [#if serverType == '压力加工']selected[/#if]>压力加工</option>
                        <option value="热处理" [#if serverType == '热处理']selected[/#if]>热处理</option>
                        <option value="焊接连接" [#if serverType == '焊接连接']selected[/#if]>焊接连接</option>
                        <option value="特种加工" [#if serverType == '特种加工']selected[/#if]>特种加工</option>
                        <option value="其他" [#if serverType == '其他']selected[/#if]>其他</option>
                    </select>
                </div>
                <div class="inputs">
                    <label><i>*</i>&nbsp;行业分类：</label>
                    <select class="codeInput" name="industryType" id="industryType" required disabled="disabled">
                        [#assign industryType = user.company.industryType?default('') /]
                        <option value="机床工具"[#if industryType == '机床工具']selected[/#if] >机床工具</option>
                        <option value="石化通用"[#if industryType == '石化通用']selected[/#if] >石化通用</option>
                        <option value="基础件"[#if industryType == '基础件']selected[/#if] >基础件</option>
                        <option value="仪器仪表"[#if industryType == '仪器仪表']selected[/#if] >仪器仪表</option>
                        <option value="重型矿山"[#if industryType == '重型矿山']selected[/#if] >重型矿山</option>
                        <option value="其他"[#if industryType == '其他']selected[/#if] >其他</option>
                    </select>
                </div>
                <div class="inputs">
                    <label><i>*</i>&nbsp;经营模式：</label>
                    <input type="text" id="operateType" name="operateType" hidden="hidden" disabled="disabled"
                           value="${user.company.operateType?default('')}" required>
                    <input class="boxs" type="checkbox" name="type" value="生产型" disabled="disabled">生产型
                    <input class="boxs" type="checkbox" name="type" value="贸易型" disabled="disabled">贸易型
                    <input class="boxs" type="checkbox" name="type" value="服务型" disabled="disabled">服务型
                    <input class="boxs" type="checkbox" name="type" value="研发型" disabled="disabled">研发型
                    <input class="boxs" type="checkbox" name="type" value="其他类型" disabled="disabled">其他类型
                </div>
                <div class="inputs">
                    <label><i>*</i>&nbsp;主营产品：</label>
                    <input class="codeInput space" type="text" id="mainProduct" name="mainProduct" disabled="disabled"
                           value="${user.company.mainProduct?default('')}" required maxlength="100">
                </div>

                <div class="inputs">
                    <label><i>*</i>&nbsp;设备数量：</label>
                    <input class="codeInput digits space" id="deviceCount" name="deviceCount" type="text" disabled="disabled"
                           value="${user.company.deviceCount?default('')}" required maxlength="9">
                </div>
                <div class="inputs">
                    <label><i>*</i>&nbsp;产品数量：</label>
                    <input class="codeInput digits space" id="productCount" name="productCount" type="text" disabled="disabled"
                           value="${user.company.productCount?default('')}" required maxlength="9">
                </div>
                <div class="inputs">
                    <label><i>*</i>&nbsp;注册时间：</label>
                    <input id="registerDt" name="registerDt" onclick="WdatePicker({dateFmt:'yyyy-MM-dd'})" disabled="disabled"
                           class="Wdate codeInput" type="text" readonly="readonly" value="${user.company.registerDt?default('')}" required>
                </div>
                <div class="inputs">
                    <label><i>*</i>&nbsp;联系电话：</label>
                    <input class="codeInput space" id="mobile" name="mobile" type="text" disabled="disabled"
                           value="${user.company.mobile?default('')}" required required maxlength="15" data-rule-phone="true">
                </div>
                <div class="inputs commentDiv" id="distpicker1" data-toggle="distpicker">
                    <label><i>*</i>&nbsp;所在地区：</label>
                    <select class="resourceAddInput" id="addrProvince" name="addrProvince" style="width: auto;" disabled="disabled"
                            data-province="${user.company.addrProvince?default('')}"></select>
                    <select class="codeInput" id="addrCity" name="addrCity" style="width: auto;" disabled="disabled"
                            data-city="${user.company.addrCity?default('')}"></select>
                    <select class="codeInput" id="addrCounty" name="addrCounty" style="width: auto;" disabled="disabled"
                            data-district="${user.company.addrCounty?default('')}"></select>
                    <input type="text" class="space" placeholder="街道信息" name="addrStreet" value="${user.company.addrStreet!}" required maxlength="100" disabled="disabled">
                </div>
            </div>
        </div>
    </form>
    <script type="text/javascript">
        $(function () {
            getSelectTopic();
            checkBoxs();
            getSelectScale();
        });

        function getSelectTopic() {
            var theSelect = document.getElementById("companyType");
            for (var i = 0; i < theSelect.options.length; i++) {
                if (theSelect.options[i].value == "${user.company.companyType?default('')}") {
                    theSelect.options[i].selected = true
                    break;
                }
            }
        }
        function checkBoxs() {
            var text = $("input[name='operateType']").val();
            var texts = text.split(",");
            for (var i = 0; i < texts.length; i++) {
                $("input[name='type']").each(function () {
                    if ($(this).val() == texts[i]) {
                        $(this).attr("checked", true);
                    }
                })
            }
        }
        /**
         * @descript 获取选中的企业规模
         * @type {Element}
         */
        function getSelectScale() {
            var theSelect = document.getElementById("companyScale");
            for (var i = 0; i < theSelect.options.length; i++) {
                if (theSelect.options[i].value == "${user.company.companyScale?default('')}") {
                    theSelect.options[i].selected = true
                    break;
                }
            }
        }
        /**
         * @descript 获取选中的服务类型
         * @type {Element}
         */
        function getServerType() {
            var theSelect = document.getElementById("serverType");
            for (var i = 0; i < theSelect.options.length; i++) {
                if (theSelect.options[i].value == "${user.company.serverType?default('')}") {
                    theSelect.options[i].selected = true
                    break;
                }
            }
        }
        /**
         * @descript 获取选中的行业类型
         * @type {Element}
         */
        function getIndustryType() {
            var theSelect = document.getElementById("industryType");
            for (var i = 0; i < theSelect.options.length; i++) {
                if (theSelect.options[i].value == "${user.company.industryType?default('')}") {
                    theSelect.options[i].selected = true
                    break;
                }
            }
        }

    </script>
</div>
<script type="text/javascript" charset="utf-8" src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script charset="utf-8" src="/${res}/resources/js/mapDistPicker/distpicker.data.js" type="text/javascript"></script>
<script charset="utf-8" src="/${res}/resources/js/mapDistPicker/distpicker.js" type="text/javascript"></script>
<!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
<!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
<script type="text/javascript" charset="utf-8" src="/${res}/resources/js/breakingNews.js"></script>
<script type="text/javascript" charset="utf-8" src="/${res}/resources/js/head.js"></script>
<script type="text/javascript">
    getServerType();
    getIndustryType();
</script>
</body>
</html>