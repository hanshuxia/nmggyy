/*
 * Distpicker v1.0.4
 * https://github.com/fengyuanchen/distpicker
 *
 * Copyright (c) 2014-2016 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2016-06-01T15:05:52.606Z
 */
(function(A){if(typeof define==="function"&&define.amd){define(["jquery","ChineseDistricts"],A)}else{if(typeof exports==="object"){A(require("jquery"),require("ChineseDistricts"))}else{A(jQuery,ChineseDistricts)}}})(function(E,C){if(typeof C==="undefined"){throw new Error('The file "distpicker.data.js" must be included first!')}var F="distpicker";var A="change."+F;var B="province";var H="city";var G="district";function D(J,I){this.$element=E(J);this.options=E.extend({},D.DEFAULTS,E.isPlainObject(I)&&I);this.placeholders=E.extend({},D.DEFAULTS);this.active=false;this.init()}D.prototype={constructor:D,init:function(){var J=this.options;var K=this.$element.find("select");var I=K.length;var L={};K.each(function(){E.extend(L,E(this).data())});E.each([B,H,G],E.proxy(function(N,M){if(L[M]){J[M]=L[M];this["$"+M]=K.filter("[data-"+M+"]")}else{this["$"+M]=I>N?K.eq(N):null}},this));this.bind();this.reset();this.active=true},bind:function(){if(this.$province){this.$province.on(A,(this._changeProvince=E.proxy(function(){this.output(H);this.output(G)},this)))}if(this.$city){this.$city.on(A,(this._changeCity=E.proxy(function(){this.output(G)},this)))}},unbind:function(){if(this.$province){this.$province.off(A,this._changeProvince)}if(this.$city){this.$city.off(A,this._changeCity)}},output:function(O){var N=this.options;var Q=this.placeholders;var P=this["$"+O];var I={};var K=[];var L;var J;var M;if(!P||!P.length){return}M=N[O];L=(O===B?86:O===H?this.$province&&this.$province.find(":selected").data("code"):O===G?this.$city&&this.$city.find(":selected").data("code"):L);I=E.isNumeric(L)?C[L]:null;if(E.isPlainObject(I)){E.each(I,function(R,S){var T=S===M;if(T){J=true}K.push({code:R,address:S,selected:T})})}if(!J){if(K.length&&(N.autoSelect||N.autoselect)){K[0].selected=true}if(!this.active&&M){Q[O]=M}}if(N.placeholder){K.unshift({code:"",address:Q[O],selected:false})}P.html(this.getList(K))},getList:function(J){var I=[];E.each(J,function(K,L){I.push('<option value="'+(L.address&&L.code?L.address:"")+'" data-code="'+(L.code||"")+'"'+(L.selected?" selected":"")+">"+(L.address||"")+"</option>")});return I.join("")},reset:function(I){if(!I){this.output(B);this.output(H);this.output(G)}else{if(this.$province){this.$province.find(":first").prop("selected",true).trigger(A)}}},destroy:function(){this.unbind();this.$element.removeData(F)}};D.DEFAULTS={autoSelect:true,placeholder:false,province:"内蒙古自治区"};D.setDefaults=function(I){E.extend(D.DEFAULTS,I)};D.other=E.fn.distpicker;E.fn.distpicker=function(I){var J=[].slice.call(arguments,1);return this.each(function(){var K=E(this);var N=K.data(F);var L;var M;if(!N){if(/destroy/.test(I)){return}L=E.extend({},K.data(),E.isPlainObject(I)&&I);K.data(F,(N=new D(this,L)))}if(typeof I==="string"&&E.isFunction(M=N[I])){M.apply(N,J)}})};E.fn.distpicker.Constructor=D;E.fn.distpicker.setDefaults=D.setDefaults;E.fn.distpicker.noConflict=function(){E.fn.distpicker=D.other;return this};E(function(){E('[data-toggle="distpicker"]').distpicker()})});